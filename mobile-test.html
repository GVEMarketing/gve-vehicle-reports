<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Mobile Test - GVE Reports</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            padding: 20px;
        }
        
        .test-info {
            background: #181c24;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .test-info h2 {
            color: #cd642f;
            margin-bottom: 10px;
        }
        
        .test-info p {
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .iframe-container {
            width: 100%;
            height: 600px;
            border: 2px solid #cd642f;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            background: #0f1117;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 10px 20px;
            background: #cd642f;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        button:hover {
            background: #e87a4a;
        }
        
        .zoom-info {
            margin-top: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="test-info">
        <h2>Mobile Viewport Test</h2>
        <p>Screen Width: <span id="screenWidth"></span>px</p>
        <p>Screen Height: <span id="screenHeight"></span>px</p>
        <p>Device Pixel Ratio: <span id="pixelRatio"></span></p>
        <p>Current Zoom: <span id="currentZoom">100%</span></p>
    </div>
    
    <div class="iframe-container">
        <iframe id="testFrame" src="lamborghini-urus-78slr-report-final-v3.html"></iframe>
    </div>
    
    <div class="controls">
        <button onclick="applyMobileStyles()">Apply Mobile Styles</button>
        <button onclick="zoomOut()">Zoom Out (-)</button>
        <button onclick="zoomIn()">Zoom In (+)</button>
        <button onclick="fitToWidth()">Fit to Width</button>
    </div>
    
    <div class="zoom-info" id="zoomInfo"></div>
    
    <script>
        // Display device info
        document.getElementById('screenWidth').textContent = window.innerWidth;
        document.getElementById('screenHeight').textContent = window.innerHeight;
        document.getElementById('pixelRatio').textContent = window.devicePixelRatio;
        
        let currentScale = 1;
        
        function applyMobileStyles() {
            const iframe = document.getElementById('testFrame');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            
            // Inject mobile-specific CSS
            const mobileStyle = document.createElement('style');
            mobileStyle.innerHTML = `
                /* Mobile Overrides */
                @media all {
                    body {
                        margin: 0 !important;
                        padding: 0 !important;
                    }
                    
                    .container {
                        width: 100% !important;
                        min-height: auto !important;
                        margin: 0 !important;
                        padding: 10px !important;
                        transform-origin: top left !important;
                    }
                    
                    .header {
                        padding: 15px !important;
                        flex-wrap: wrap !important;
                    }
                    
                    .content-wrapper {
                        padding: 15px !important;
                    }
                    
                    .vehicle-showcase {
                        grid-template-columns: 1fr !important;
                        gap: 20px !important;
                    }
                    
                    .vehicle-title {
                        font-size: 32px !important;
                    }
                    
                    .vehicle-model {
                        font-size: 40px !important;
                    }
                    
                    .vehicle-specs-grid {
                        grid-template-columns: 1fr !important;
                    }
                    
                    .vehicle-image-container {
                        max-width: 100% !important;
                    }
                    
                    .vehicle-image img {
                        max-width: 100% !important;
                        height: auto !important;
                    }
                    
                    .metrics-row {
                        grid-template-columns: repeat(2, 1fr) !important;
                        gap: 10px !important;
                    }
                    
                    .metric-card {
                        padding: 15px !important;
                    }
                    
                    .metric-number {
                        font-size: 24px !important;
                    }
                    
                    .two-column {
                        grid-template-columns: 1fr !important;
                        gap: 20px !important;
                    }
                    
                    .performance-section, .insights-section {
                        margin-bottom: 20px !important;
                    }
                    
                    .footer {
                        padding: 15px !important;
                        flex-direction: column !important;
                        gap: 10px !important;
                        text-align: center !important;
                    }
                    
                    /* Hide less important elements on mobile */
                    .date-badge {
                        display: none !important;
                    }
                    
                    /* Make text more readable */
                    .strategy-content {
                        font-size: 14px !important;
                    }
                    
                    .section-title {
                        font-size: 14px !important;
                    }
                    
                    .bar-label {
                        font-size: 12px !important;
                    }
                    
                    .insight-text {
                        font-size: 12px !important;
                    }
                }
            `;
            
            iframeDoc.head.appendChild(mobileStyle);
            document.getElementById('zoomInfo').textContent = 'Mobile styles applied!';
        }
        
        function zoomOut() {
            currentScale -= 0.1;
            applyZoom();
        }
        
        function zoomIn() {
            currentScale += 0.1;
            applyZoom();
        }
        
        function fitToWidth() {
            const iframe = document.getElementById('testFrame');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            const container = iframeDoc.querySelector('.container');
            
            if (container) {
                const containerWidth = 210 * 3.7795; // 210mm in pixels
                const viewportWidth = window.innerWidth - 40; // Account for padding
                currentScale = viewportWidth / containerWidth;
                applyZoom();
            }
        }
        
        function applyZoom() {
            const iframe = document.getElementById('testFrame');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            const container = iframeDoc.querySelector('.container');
            
            if (container) {
                container.style.transform = `scale(${currentScale})`;
                container.style.transformOrigin = 'top left';
                
                // Adjust iframe height
                const scaledHeight = container.offsetHeight * currentScale;
                iframe.style.height = scaledHeight + 'px';
                
                document.getElementById('currentZoom').textContent = Math.round(currentScale * 100) + '%';
                document.getElementById('zoomInfo').textContent = `Scale: ${currentScale.toFixed(2)}, Container width: ${container.offsetWidth}px`;
            }
        }
        
        // Apply mobile styles on load
        document.getElementById('testFrame').onload = function() {
            setTimeout(() => {
                applyMobileStyles();
                fitToWidth();
            }, 500);
        };
        
        // Update on resize
        window.addEventListener('resize', () => {
            document.getElementById('screenWidth').textContent = window.innerWidth;
            document.getElementById('screenHeight').textContent = window.innerHeight;
        });
    </script>
</body>
</html>